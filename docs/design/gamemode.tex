\documentclass{standalone}
\usepackage{tikz}
\usepackage{aeguill}
\begin{document}
% generated by Plantuml 1.2022.13      
\definecolor{plantucolor0000}{RGB}{241,241,241}
\definecolor{plantucolor0001}{RGB}{24,24,24}
\definecolor{plantucolor0002}{RGB}{180,167,229}
\definecolor{plantucolor0003}{RGB}{0,0,0}
\definecolor{plantucolor0004}{RGB}{132,190,132}
\definecolor{plantucolor0005}{RGB}{3,128,72}
\definecolor{plantucolor0006}{RGB}{254,255,221}
\definecolor{plantucolor0007}{RGB}{173,209,178}
\definecolor{plantucolor0008}{RGB}{200,41,48}
\begin{tikzpicture}[yscale=-1
,pstyle0/.style={color=plantucolor0001,fill=plantucolor0000,line width=0.5pt}
,pstyle1/.style={color=plantucolor0001,fill=plantucolor0002,line width=1.0pt}
,pstyle2/.style={color=plantucolor0001,line width=0.5pt}
,pstyle3/.style={color=plantucolor0005,fill=plantucolor0004,line width=1.0pt}
,pstyle4/.style={color=plantucolor0001,fill=plantucolor0006,line width=0.5pt}
,pstyle5/.style={color=plantucolor0001,fill=plantucolor0007,line width=1.0pt}
,pstyle6/.style={color=plantucolor0008,line width=1.0pt}
,pstyle7/.style={color=plantucolor0001,line width=1.0pt}
,pstyle8/.style={color=plantucolor0001,fill=plantucolor0001,line width=1.0pt}
,pstyle9/.style={color=plantucolor0001,line width=1.0pt,dash pattern=on 7.0pt off 7.0pt}
]
\draw[pstyle0] (439pt,544pt) arc (180:270:5pt) -- (444pt,539pt) -- (710.6642pt,539pt) arc (270:360:5pt) -- (715.6642pt,544pt) -- (715.6642pt,675.0234pt) arc (0:90:5pt) -- (710.6642pt,680.0234pt) -- (444pt,680.0234pt) arc (90:180:5pt) -- (439pt,675.0234pt) -- cycle;
\draw[pstyle1] (537.6821pt,555pt) ellipse (11pt and 11pt);
\node at (537.6821pt,555pt)[]{\textbf{\Large I}};
\node at (558.1821pt,547.248pt)[below right,color=black]{\textit{GameCore}};
\draw[pstyle2] (440pt,571pt) -- (714.6642pt,571pt);
\draw[pstyle2] (440pt,579pt) -- (714.6642pt,579pt);
\draw[pstyle3] (450pt,592.252pt) ellipse (3pt and 3pt);
\node at (459pt,583pt)[below right,color=black]{getPieceGenerator(): Generator};
\draw[pstyle3] (450pt,607.7559pt) ellipse (3pt and 3pt);
\node at (459pt,598.5039pt)[below right,color=black]{getRotationSystem(): RotationSystem};
\draw[pstyle3] (450pt,623.2598pt) ellipse (3pt and 3pt);
\node at (459pt,614.0078pt)[below right,color=black]{getSpawnPosition(Piece): Point};
\draw[pstyle3] (450pt,638.7637pt) ellipse (3pt and 3pt);
\node at (459pt,629.5117pt)[below right,color=black]{getWidth(): int};
\draw[pstyle3] (450pt,654.2676pt) ellipse (3pt and 3pt);
\node at (459pt,645.0156pt)[below right,color=black]{getHeight(): int};
\draw[pstyle3] (450pt,669.7715pt) ellipse (3pt and 3pt);
\node at (459pt,660.5195pt)[below right,color=black]{getBuffer(): int};
\draw[pstyle4] (477pt,715.5pt) -- (477pt,739.8965pt) -- (678.2311pt,739.8965pt) -- (678.2311pt,725.5pt) -- (668.2311pt,715.5pt) -- (581.5pt,715.5pt) -- (577.5pt,680.01pt) -- (573.5pt,715.5pt) -- (477pt,715.5pt);
\draw[pstyle4] (668.2311pt,715.5pt) -- (668.2311pt,725.5pt) -- (678.2311pt,725.5pt) -- (668.2311pt,715.5pt);
\node at (483pt,720.5pt)[below right,color=black]{Unique features of each game.};
\draw[pstyle0] (137pt,651.5pt) arc (180:270:5pt) -- (142pt,646.5pt) -- (243.4824pt,646.5pt) arc (270:360:5pt) -- (248.4824pt,651.5pt) -- (248.4824pt,689.5pt) arc (0:90:5pt) -- (243.4824pt,694.5pt) -- (142pt,694.5pt) arc (90:180:5pt) -- (137pt,689.5pt) -- cycle;
\draw[pstyle5] (152pt,662.5pt) ellipse (11pt and 11pt);
\node at (152pt,662.5pt)[]{\textbf{\Large C}};
\node at (166pt,654.748pt)[below right,color=black]{DefaultCore};
\draw[pstyle2] (138pt,678.5pt) -- (247.4824pt,678.5pt);
\draw[pstyle2] (138pt,686.5pt) -- (247.4824pt,686.5pt);
\draw[pstyle0] (59pt,735pt) arc (180:270:5pt) -- (64pt,730pt) -- (321.4667pt,730pt) arc (270:360:5pt) -- (326.4667pt,735pt) -- (326.4667pt,819.5117pt) arc (0:90:5pt) -- (321.4667pt,824.5117pt) -- (64pt,824.5117pt) arc (90:180:5pt) -- (59pt,819.5117pt) -- cycle;
\draw[pstyle5] (138.2787pt,746pt) ellipse (11pt and 11pt);
\node at (138.2787pt,746pt)[]{\textbf{\Large C}};
\node at (158.7787pt,738.248pt)[below right,color=black]{CustomizeCore};
\draw[pstyle2] (60pt,762pt) -- (325.4667pt,762pt);
\draw[pstyle2] (60pt,770pt) -- (325.4667pt,770pt);
\draw[pstyle3] (70pt,783.252pt) ellipse (3pt and 3pt);
\node at (79pt,774pt)[below right,color=black]{setPieceGenerator(Generator)};
\draw[pstyle3] (70pt,798.7559pt) ellipse (3pt and 3pt);
\node at (79pt,789.5039pt)[below right,color=black]{setRotationSystem(RotationSystem)};
\draw[pstyle3] (70pt,814.2598pt) ellipse (3pt and 3pt);
\node at (79pt,805.0078pt)[below right,color=black]{setSize(int, int, int)};
\draw[pstyle0] (453pt,272pt) arc (180:270:5pt) -- (458pt,267pt) -- (696.8pt,267pt) arc (270:360:5pt) -- (701.8pt,272pt) -- (701.8pt,356.5117pt) arc (0:90:5pt) -- (696.8pt,361.5117pt) -- (458pt,361.5117pt) arc (90:180:5pt) -- (453pt,356.5117pt) -- cycle;
\draw[pstyle1] (535.0731pt,283pt) ellipse (11pt and 11pt);
\node at (535.0731pt,283pt)[]{\textbf{\Large I}};
\node at (555.5731pt,275.248pt)[below right,color=black]{\textit{GameLayer}};
\draw[pstyle2] (454pt,299pt) -- (700.8pt,299pt);
\draw[pstyle2] (454pt,307pt) -- (700.8pt,307pt);
\draw[pstyle3] (464pt,320.252pt) ellipse (3pt and 3pt);
\node at (473pt,311pt)[below right,color=black]{onGameStart()};
\draw[pstyle3] (464pt,335.7559pt) ellipse (3pt and 3pt);
\node at (473pt,326.5039pt)[below right,color=black]{isGameEnd(): boolean};
\draw[pstyle3] (464pt,351.2598pt) ellipse (3pt and 3pt);
\node at (473pt,342.0078pt)[below right,color=black]{notifyAllObservers(DataPackage)};
\draw[pstyle4] (470pt,397.5pt) -- (470pt,421.8965pt) -- (685.4571pt,421.8965pt) -- (685.4571pt,407.5pt) -- (675.4571pt,397.5pt) -- (581.5pt,397.5pt) -- (577.5pt,362.02pt) -- (573.5pt,397.5pt) -- (470pt,397.5pt);
\draw[pstyle4] (675.4571pt,397.5pt) -- (675.4571pt,407.5pt) -- (685.4571pt,407.5pt) -- (675.4571pt,397.5pt);
\node at (476pt,402.5pt)[below right,color=black]{Pluggable extra features of game.};
\draw[pstyle0] (123.5pt,12pt) arc (180:270:5pt) -- (128.5pt,7pt) -- (256.7222pt,7pt) arc (270:360:5pt) -- (261.7222pt,12pt) -- (261.7222pt,96.5117pt) arc (0:90:5pt) -- (256.7222pt,101.5117pt) -- (128.5pt,101.5117pt) arc (90:180:5pt) -- (123.5pt,96.5117pt) -- cycle;
\draw[pstyle5] (138.5pt,23pt) ellipse (11pt and 11pt);
\node at (138.5pt,23pt)[]{\textbf{\Large C}};
\node at (152.5pt,15.248pt)[below right,color=black]{LineCountLayer};
\draw[pstyle2] (124.5pt,39pt) -- (260.7222pt,39pt);
\draw[pstyle6] (131.5pt,49.252pt) rectangle (137.5pt,55.252pt);
\node at (143.5pt,43pt)[below right,color=black]{count: int};
\draw[pstyle6] (131.5pt,64.7559pt) rectangle (137.5pt,70.7559pt);
\node at (143.5pt,58.5039pt)[below right,color=black]{total: int};
\draw[pstyle2] (124.5pt,78.0078pt) -- (260.7222pt,78.0078pt);
\draw[pstyle3] (134.5pt,91.2598pt) ellipse (3pt and 3pt);
\node at (143.5pt,82.0078pt)[below right,color=black]{isGameEnd()};
\draw[pstyle0] (129.5pt,142pt) arc (180:270:5pt) -- (134.5pt,137pt) -- (250.8529pt,137pt) arc (270:360:5pt) -- (255.8529pt,142pt) -- (255.8529pt,226.5117pt) arc (0:90:5pt) -- (250.8529pt,231.5117pt) -- (134.5pt,231.5117pt) arc (90:180:5pt) -- (129.5pt,226.5117pt) -- cycle;
\draw[pstyle5] (151.43pt,153pt) ellipse (11pt and 11pt);
\node at (151.43pt,153pt)[]{\textbf{\Large C}};
\node at (166.97pt,145.248pt)[below right,color=black]{TimedLayer};
\draw[pstyle2] (130.5pt,169pt) -- (254.8529pt,169pt);
\draw[pstyle6] (137.5pt,179.252pt) rectangle (143.5pt,185.252pt);
\node at (149.5pt,173pt)[below right,color=black]{startTime: long};
\draw[pstyle6] (137.5pt,194.7559pt) rectangle (143.5pt,200.7559pt);
\node at (149.5pt,188.5039pt)[below right,color=black]{timer: long};
\draw[pstyle2] (130.5pt,208.0078pt) -- (254.8529pt,208.0078pt);
\draw[pstyle3] (140.5pt,221.2598pt) ellipse (3pt and 3pt);
\node at (149.5pt,212.0078pt)[below right,color=black]{isGameEnd()};
\draw[pstyle0] (68pt,272pt) arc (180:270:5pt) -- (73pt,267pt) -- (311.8pt,267pt) arc (270:360:5pt) -- (316.8pt,272pt) -- (316.8pt,356.5117pt) arc (0:90:5pt) -- (311.8pt,361.5117pt) -- (73pt,361.5117pt) arc (90:180:5pt) -- (68pt,356.5117pt) -- cycle;
\draw[pstyle5] (125.8939pt,283pt) ellipse (11pt and 11pt);
\node at (125.8939pt,283pt)[]{\textbf{\Large C}};
\node at (146.3939pt,275.248pt)[below right,color=black]{ScoreSystemLayer};
\draw[pstyle2] (69pt,299pt) -- (315.8pt,299pt);
\draw[pstyle6] (76pt,309.252pt) rectangle (82pt,315.252pt);
\node at (88pt,303pt)[below right,color=black]{score: int};
\draw[pstyle2] (69pt,322.5039pt) -- (315.8pt,322.5039pt);
\draw[pstyle3] (79pt,335.7559pt) ellipse (3pt and 3pt);
\node at (88pt,326.5039pt)[below right,color=black]{getScore(): int};
\draw[pstyle3] (79pt,351.2598pt) ellipse (3pt and 3pt);
\node at (88pt,342.0078pt)[below right,color=black]{notifyAllObservers(DataPackage)};
\draw[pstyle0] (91.5pt,490.5pt) arc (180:270:5pt) -- (96.5pt,485.5pt) -- (288.9627pt,485.5pt) arc (270:360:5pt) -- (293.9627pt,490.5pt) -- (293.9627pt,606.0195pt) arc (0:90:5pt) -- (288.9627pt,611.0195pt) -- (96.5pt,611.0195pt) arc (90:180:5pt) -- (91.5pt,606.0195pt) -- cycle;
\draw[pstyle5] (150.466pt,501.5pt) ellipse (11pt and 11pt);
\node at (150.466pt,501.5pt)[]{\textbf{\Large C}};
\node at (170.966pt,493.748pt)[below right,color=black]{GameMode};
\draw[pstyle2] (92.5pt,517.5pt) -- (292.9627pt,517.5pt);
\draw[pstyle6] (99.5pt,527.752pt) rectangle (105.5pt,533.752pt);
\node at (111.5pt,521.5pt)[below right,color=black]{core: GameCore};
\draw[pstyle6] (99.5pt,543.2559pt) rectangle (105.5pt,549.2559pt);
\node at (111.5pt,537.0039pt)[below right,color=black]{layers: Stack\textless GameLayer\textgreater };
\draw[pstyle2] (92.5pt,556.5078pt) -- (292.9627pt,556.5078pt);
\draw[pstyle3] (102.5pt,569.7598pt) ellipse (3pt and 3pt);
\node at (111.5pt,560.5078pt)[below right,color=black]{setCore(GameCore)};
\draw[pstyle3] (102.5pt,585.2637pt) ellipse (3pt and 3pt);
\node at (111.5pt,576.0117pt)[below right,color=black]{addLayer(GameLayer)};
\draw[pstyle3] (102.5pt,600.7676pt) ellipse (3pt and 3pt);
\node at (111.5pt,591.5156pt)[below right,color=black]{removeLayer(GameLayer)};
\draw[pstyle4] (6pt,397pt) -- (6pt,450.1895pt) -- (188.5pt,450.1895pt) -- (192.5pt,485.02pt) -- (196.5pt,450.1895pt) -- (379.1134pt,450.1895pt) -- (379.1134pt,407pt) -- (369.1134pt,397pt) -- (6pt,397pt);
\draw[pstyle4] (369.1134pt,397pt) -- (369.1134pt,407pt) -- (379.1134pt,407pt) -- (369.1134pt,397pt);
\node at (12pt,402pt)[below right,color=black]{Servers as a mediator.};
\node at (12pt,416.3965pt)[below right,color=black]{Implements GameCore by passing the call directly to core.};
\node at (12pt,430.793pt)[below right,color=black]{Implements GameLayer by composing all layers.};
\draw[pstyle7] (304.7929pt,528.403pt) ..controls (304.7929pt,528.403pt) and (357.51pt,502.31pt) .. (379pt,484.5pt) ..controls (415.45pt,454.29pt) and (403.01pt,427.25pt) .. (439pt,396.5pt) ..controls (451.44pt,385.88pt) and (465.9pt,376.59pt) .. (480.69pt,368.37pt);
\draw[pstyle7] (293.7pt,532.98pt) -- (300.7721pt,534.3891pt) -- (304.7929pt,528.403pt) -- (297.7208pt,526.9939pt) -- (293.7pt,532.98pt) -- cycle;
\draw[pstyle8] (492.59pt,362.01pt) -- (482.7673pt,362.728pt) -- (488.1811pt,364.3684pt) -- (486.5407pt,369.7821pt) -- (492.59pt,362.01pt) -- cycle;
\draw[pstyle7] (488.1811pt,364.3684pt) -- (481.125pt,368.14pt);
\draw[pstyle9] (293.7pt,499.6pt) ..controls (323.15pt,486.39pt) and (354.11pt,470.13pt) .. (379pt,449.5pt) ..controls (411.32pt,422.72pt) and (405.2pt,398.42pt) .. (438.21pt,364.28pt);
\draw[pstyle7] (433.5pt,359.11pt) -- (452.94pt,350.7pt) -- (442.99pt,369.4pt) -- (433.5pt,359.11pt) -- cycle;
\draw[pstyle7] (305.4216pt,578.0366pt) ..controls (305.4216pt,578.0366pt) and (386.03pt,592.17pt) .. (425.71pt,597.97pt);
\draw[pstyle7] (293.63pt,575.81pt) -- (298.7836pt,580.8538pt) -- (305.4216pt,578.0366pt) -- (300.268pt,572.9927pt) -- (293.63pt,575.81pt) -- cycle;
\draw[pstyle8] (438.78pt,599.86pt) -- (430.4435pt,594.6157pt) -- (433.8312pt,599.146pt) -- (429.301pt,602.5338pt) -- (438.78pt,599.86pt) -- cycle;
\draw[pstyle7] (433.8312pt,599.146pt) -- (425.91pt,598.005pt);
\draw[pstyle9] (293.63pt,552.42pt) ..controls (331.9pt,557.18pt) and (376.52pt,563.86pt) .. (418.87pt,571.08pt);
\draw[pstyle7] (420.27pt,564.22pt) -- (438.78pt,574.55pt) -- (417.87pt,578.02pt) -- (420.27pt,564.22pt) -- cycle;
\draw[pstyle9] (248.37pt,661.76pt) ..controls (292.98pt,654.66pt) and (358.22pt,644.27pt) .. (418.8pt,634.62pt);
\draw[pstyle7] (417.84pt,627.68pt) -- (438.7pt,631.45pt) -- (420.05pt,641.51pt) -- (417.84pt,627.68pt) -- cycle;
\draw[pstyle9] (326.14pt,733.64pt) ..controls (344.06pt,726.95pt) and (362.09pt,719.83pt) .. (379pt,712.5pt) ..controls (395.55pt,705.33pt) and (412.62pt,697.35pt) .. (429.48pt,689.11pt);
\draw[pstyle7] (426.62pt,682.71pt) -- (447.65pt,680.07pt) -- (432.85pt,695.24pt) -- (426.62pt,682.71pt) -- cycle;
\draw[pstyle9] (261.52pt,70.52pt) ..controls (298.1pt,81.01pt) and (342.96pt,97pt) .. (379pt,119.5pt) ..controls (435.67pt,154.87pt) and (488.88pt,209.12pt) .. (525.76pt,251.43pt);
\draw[pstyle7] (531.14pt,246.95pt) -- (538.82pt,266.7pt) -- (520.51pt,256.05pt) -- (531.14pt,246.95pt) -- cycle;
\draw[pstyle9] (317.06pt,314.5pt) ..controls (353.93pt,314.5pt) and (394.67pt,314.5pt) .. (432.73pt,314.5pt);
\draw[pstyle7] (432.94pt,307.5pt) -- (452.94pt,314.5pt) -- (432.94pt,321.5pt) -- (432.94pt,307.5pt) -- cycle;
\draw[pstyle9] (255.89pt,205.68pt) ..controls (304pt,222.01pt) and (372.46pt,245.25pt) .. (433.78pt,266.06pt);
\draw[pstyle7] (436.29pt,259.52pt) -- (452.98pt,272.57pt) -- (431.79pt,272.77pt) -- (436.29pt,259.52pt) -- cycle;
\end{tikzpicture}
\end{document}
